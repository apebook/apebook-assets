KISSY.add("apebook/bind-github",["node","io"],function(t,a,n,e){var r,o,i,u=a("node"),l=a("io");r=function(t){var a=u.all;return t=function(){var t=a(".J_GithubTip");return t.length?void 0:!1}}(),o=function(t){var a=u.all,n=l;return t=function(){function t(t,a){r.html(""),o.show();var e=r.attr("data-repo");n.getJSON("/api/github/repos",{userName:t,isOrg:a}).then(function(t){var a=t[0];if(a.success){a=a.result,o.hide();var n="";a.forEach(function(t){var a="";e===t.name&&(a="selected"),n+='<option value="'+t.name+'" '+a+">"+t.name+"</option>"}),r.html(n)}else alert(a.msg)})}var e=a(".J_Orgs");if(!e.length)return!1;var r=a(".J_Repos"),o=a(".J_ReposLoadingTip");n.getJSON("/api/github/orgs").then(function(t){var a=t[0];if(a.success){var n=e.attr("data-org"),r=e.attr("data-user");a=a.result;var o='<option value="'+r+'" '+(n===r&&"selected"||"")+">"+r+"</option>";a.length>0&&(a.forEach(function(t){var a="";n===t.login&&(a="selected"),o+='<option value="'+t.login+'" '+a+">"+t.login+"</option>"}),e.html(o))}}),e.on("change",function(){var a=e.val();t(a,!0)}),t(r.attr("data-name"),r.attr("data-isOrg")||!1)}}(),i=function(t){var a=(u.all,r);a();var n=o;return n(),t}(),e.exports=i});