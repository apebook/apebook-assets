KISSY.add("apebook/bind-github",["node","io"],function(t,a,n,r){var e,o,i,u=a("node"),l=a("io");e=function(t){var a=u.all;return t=function(){var t=a(".J_GithubTip");return t.length?void(location.href=t.attr("data-url")):!1}}(),o=function(t){var a=u.all,n=l;return t=function(){function t(t,a){e.html(""),o.show();var r=e.attr("data-repo");n.getJSON("/api/github/repos",{userName:t,isOrg:a}).then(function(t){var a=t[0];if(a.success){a=a.result,o.hide();var n="";a.forEach(function(t){var a="";r===t.name&&(a="selected"),n+='<option value="'+t.name+'" '+a+">"+t.name+"</option>"}),e.html(n)}else alert(a.msg)})}var r=a(".J_Orgs");if(!r.length)return!1;var e=a(".J_Repos"),o=a(".J_ReposLoadingTip");n.getJSON("/api/github/orgs").then(function(t){var a=t[0];if(a.success){var n=r.attr("data-org"),e=r.attr("data-user");a=a.result;var o='<option value="'+e+'" '+(n===e&&"selected"||"")+">"+e+"</option>";a.length>0&&(a.forEach(function(t){var a="";n===t.login&&(a="selected"),o+='<option value="'+t.login+'" '+a+">"+t.login+"</option>"}),r.html(o))}}),r.on("change",function(){var a=r.val();t(a,!0)}),t(e.attr("data-name"),e.attr("data-isOrg")||!1)}}(),i=function(t){var a=(u.all,e);a();var n=o;return n(),t}(),r.exports=i});